<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QR File Upload</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<h2>Upload File</h2>

<input type="file" id="file">
<br><br>
<button onclick="upload()">Submit</button>

<p id="status"></p>

<script>
function upload() {
  var file = document.getElementById("file").files[0];
  if (!file) {
    alert("File select karo");
    return;
  }

  var reader = new FileReader();
  reader.onload = function () {
    var base64 = reader.result.split(",")[1];

    fetch("https://script.google.com/macros/s/AKfycbzrPftbsru_IYDnVIpCfm6CTbfcWkhRAcJ5icR2R91e0cefl5HpUy90sc4ALihoP5ZKSw/exec", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        filename: file.name,
        mimeType: file.type,
        data: base64
      })
    })
    .then(res => res.text())
    .then(txt => {
      document.getElementById("status").innerText = txt;
    })
    .catch(err => {
      alert("Upload failed");
    });
  };

  reader.readAsDataURL(file);
}
</script>

</body>
</html>
